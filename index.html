

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>My AsyncAPI</title>

    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" media="screen" rel="stylesheet">
    <link href="slate/css/print.css" media="print" rel="stylesheet">
    <link href="slate/css/screen.css" media="screen" rel="stylesheet">
    <script src="slate/js/lib/jquery.min.js"></script>
    <script src="slate/js/lib/jquery.highlight.js"></script>
    <script src="slate/js/lib/energize.js"></script>
    <script src="slate/js/lib/imagesloaded.min.js"></script>
    <script src="slate/js/lib/lunr.min.js"></script>
    <script src="slate/js/app/lang.js"></script>
    <script src="slate/js/app/toc.js"></script>
    
    <script src="slate/js/app/search.js"></script>
    
    
    <script src="slate/js/app/copy.js"></script>
    
    <script type="text/javascript">
      function adjustLanguageSelectorWidth() {
        const elem = $('.dark-box > .lang-selector');
        elem.width(elem.parent().width());
      }
      $(function() {
        loadToc($('#toc'), '.toc-link', '.toc-list-h2, .toc-list-h3, .toc-list-h4, .toc-list-h5, .toc-list-h6', 10);
        setupLanguages($('body').data('languages'));
        $('.content').imagesLoaded( function() {
          recacheHeights();
          refreshToc();
        });
        $(window).resize(function() {
          adjustLanguageSelectorWidth();
        });
        adjustLanguageSelectorWidth();
      });
      window.onpopstate = function() {
        activateLanguage(getLanguageFromQueryString());
      };
    </script>
    <!-- slate; content for the head element from source/includes/head.ejs -->
<meta name="theme-color" content="#F3F7F9">

  </head>

  <body data-languages="[&quot;shell&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="slate/img/navbar.png" alt="Navigation">
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="slate/img/logo.png" alt="Logo" class="logo">
      
        <div class="lang-selector">
          
            
              <a href="#" data-language-name="shell">Shell</a>
            
          
            
              <a href="#" data-language-name="javascript">Node.js</a>
            
          
        </div>
      
      
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      

      

      <div id="toc" class="toc-list-h1">
	  	<ul class="toc-list-h1">
        
          <li>
            <a href="#streetlights-api-1.0.0-documentation" class="toc-h1 toc-link" data-title="Streetlights API 1.0.0 documentation">Streetlights API 1.0.0 documentation</a>
            
              <ul class="toc-list-h2">
                
                  <li>
                    <a href="#servers" class="toc-h2 toc-link" data-title="">Servers</a>
                    
                  </li>
                
                  <li>
                    <a href="#channels" class="toc-h2 toc-link" data-title="">Channels</a>
                    
                  </li>
                
              </ul>
            
          </li>
        
		</ul>
      </div>
      
        <ul class="toc-footer">
          
            <li>Built with AsyncAPI/Generator</li>
          
        </ul>
      
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="streetlights-api-1.0.0-documentation">Streetlights API 1.0.0 documentation</h1>
<p>The Smartylighting Streetlights API allows you to remotely manage the city lights.</p>
<h3 id="check-out-its-awesome-features%3A">Check out its awesome features:</h3>
<ul>
<li>Turn a specific streetlight on/off ðŸŒƒ</li>
<li>Dim a specific streetlight ðŸ˜Ž</li>
<li>Receive real-time information about environmental lighting conditions ðŸ“ˆ</li>
</ul>
<h2 id="servers">Servers</h2>
<h3 id="production-server"><strong>production</strong> Server</h3>
<table>
<thead>
<tr>
<th>URL</th>
<th>Protocol</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>mqtt://test.mosquitto.org:{port}</td>
<td>mqtt</td>
<td>Test broker</td>
</tr>
</tbody>
</table>
<h4 id="url-variables">URL Variables</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Default value</th>
<th>Possible values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>port</td>
<td>1883</td>
<td>1883, 8883</td>
<td>Secure connection (TLS) is available through port 8883.</td>
</tr>
</tbody>
</table>
<h2 id="channels">Channels</h2>
<h3 id="smartylighting%2Fstreetlights%2F1%2F0%2Fevent%2F%7Bstreetlightid%7D%2Flighting%2Fmeasured-channel"><strong>smartylighting/streetlights/1/0/event/{streetlightId}/lighting/measured</strong> Channel</h3>
<p>The topic on which measured values may be produced and consumed.</p>
<h4 id="channel-parameters">Channel Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>streetlightId</td>
<td>string</td>
<td>The ID of the streetlight.</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<h4 id="publish-operation"><code>publish</code> Operation</h4>
<p><em>Inform about environmental lighting conditions of a particular streetlight.</em></p>
<p>This is the description with <strong>bold</strong> text.</p>
<p>On multiple lines.</p>
<h5 id="message">Message</h5>
<p><em>Inform about environmental lighting conditions of a particular streetlight.</em></p>
<h6 id="headers">Headers</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>my-app-header</td>
<td>integer</td>
<td>-</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of headers <em>(generated)</em></p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"my-app-header"</span><span class="token operator">:</span> <span class="token number">0</span><br><span class="token punctuation">}</span></code></pre>
<h6 id="payload">Payload</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>lumens</td>
<td>integer</td>
<td>Light intensity measured in lumens.</td>
<td><em>Any</em></td>
</tr>
<tr>
<td>sentAt</td>
<td>string</td>
<td>Date and time when the message was sent.</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of payload <em>(generated)</em></p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"lumens"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>  <span class="token property">"sentAt"</span><span class="token operator">:</span> <span class="token string">"2019-08-24T14:15:22Z"</span><br><span class="token punctuation">}</span></code></pre>
<h6 id="tags">Tags</h6>
<ul>
<li>message-tag1</li>
<li>message-tag2</li>
<li>message-tag3</li>
<li>message-tag4</li>
<li>message-tag5</li>
</ul>
<h3 id="smartylighting%2Fstreetlights%2F1%2F0%2Faction%2F%7Bstreetlightid%7D%2Fturn%2Fon-channel"><strong>smartylighting/streetlights/1/0/action/{streetlightId}/turn/on</strong> Channel</h3>
<h4 id="channel-parameters-1">Channel Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>streetlightId</td>
<td>string</td>
<td>The ID of the streetlight.</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<h4 id="subscribe-operation"><code>subscribe</code> Operation</h4>
<h5 id="message-1">Message</h5>
<p><em>Command a particular streetlight to turn the lights on or off.</em></p>
<h6 id="headers-1">Headers</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>my-app-header</td>
<td>integer</td>
<td>-</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of headers <em>(generated)</em></p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"my-app-header"</span><span class="token operator">:</span> <span class="token number">0</span><br><span class="token punctuation">}</span></code></pre>
<h6 id="payload-1">Payload</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>command</td>
<td>string</td>
<td>Whether to turn on or off the light.</td>
<td>on, off</td>
</tr>
<tr>
<td>sentAt</td>
<td>string</td>
<td>Date and time when the message was sent.</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of payload <em>(generated)</em></p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"on"</span><span class="token punctuation">,</span><br>  <span class="token property">"sentAt"</span><span class="token operator">:</span> <span class="token string">"2019-08-24T14:15:22Z"</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="smartylighting%2Fstreetlights%2F1%2F0%2Faction%2F%7Bstreetlightid%7D%2Fturn%2Foff-channel"><strong>smartylighting/streetlights/1/0/action/{streetlightId}/turn/off</strong> Channel</h3>
<h4 id="channel-parameters-2">Channel Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>streetlightId</td>
<td>string</td>
<td>The ID of the streetlight.</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<h4 id="subscribe-operation-1"><code>subscribe</code> Operation</h4>
<h5 id="message-2">Message</h5>
<p><em>Command a particular streetlight to turn the lights on or off.</em></p>
<h6 id="headers-2">Headers</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>my-app-header</td>
<td>integer</td>
<td>-</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of headers <em>(generated)</em></p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"my-app-header"</span><span class="token operator">:</span> <span class="token number">0</span><br><span class="token punctuation">}</span></code></pre>
<h6 id="payload-2">Payload</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>command</td>
<td>string</td>
<td>Whether to turn on or off the light.</td>
<td>on, off</td>
</tr>
<tr>
<td>sentAt</td>
<td>string</td>
<td>Date and time when the message was sent.</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of payload <em>(generated)</em></p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"on"</span><span class="token punctuation">,</span><br>  <span class="token property">"sentAt"</span><span class="token operator">:</span> <span class="token string">"2019-08-24T14:15:22Z"</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="smartylighting%2Fstreetlights%2F1%2F0%2Faction%2F%7Bstreetlightid%7D%2Fdim-channel"><strong>smartylighting/streetlights/1/0/action/{streetlightId}/dim</strong> Channel</h3>
<h4 id="channel-parameters-3">Channel Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>streetlightId</td>
<td>string</td>
<td>The ID of the streetlight.</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<h4 id="subscribe-operation-2"><code>subscribe</code> Operation</h4>
<h5 id="message-3">Message</h5>
<p><em>Command a particular streetlight to dim the lights.</em></p>
<h6 id="headers-3">Headers</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>my-app-header</td>
<td>integer</td>
<td>-</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of headers <em>(generated)</em></p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"my-app-header"</span><span class="token operator">:</span> <span class="token number">0</span><br><span class="token punctuation">}</span></code></pre>
<h6 id="payload-3">Payload</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>percentage</td>
<td>integer</td>
<td>Percentage to which the light should be dimmed to.</td>
<td><em>Any</em></td>
</tr>
<tr>
<td>sentAt</td>
<td>string</td>
<td>Date and time when the message was sent.</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of payload <em>(generated)</em></p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"percentage"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>  <span class="token property">"sentAt"</span><span class="token operator">:</span> <span class="token string">"2019-08-24T14:15:22Z"</span><br><span class="token punctuation">}</span></code></pre>
<h3 id="some.channel-channel"><strong>some.channel</strong> Channel</h3>
<h4 id="subscribe-operation-3"><code>subscribe</code> Operation</h4>
<p>this description shows in markdown</p>
<p>Accepts <strong>one of</strong> the following messages:</p>
<h5 id="message-success">Message <code>Success</code></h5>
<h6 id="payload-4">Payload</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>string</td>
<td>-</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of payload <em>(generated)</em></p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"result"</span><span class="token operator">:</span> <span class="token string">"success"</span><br><span class="token punctuation">}</span></code></pre>
<h5 id="message-failure">Message <code>Failure</code></h5>
<h6 id="payload-5">Payload</h6>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Accepted values</th>
</tr>
</thead>
<tbody>
<tr>
<td>error</td>
<td>object</td>
<td>-</td>
<td><em>Any</em></td>
</tr>
<tr>
<td>error.errorCode</td>
<td>integer</td>
<td>-</td>
<td><em>Any</em></td>
</tr>
<tr>
<td>error.errorMessage</td>
<td>string</td>
<td>-</td>
<td><em>Any</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Examples of payload</p>
</blockquote>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"error"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"errorCode"</span><span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">,</span><br>    <span class="token property">"errorMessage"</span><span class="token operator">:</span> <span class="token string">"Something messed up"</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>

      </div>
      <div class="dark-box">
        
          <div class="lang-selector">
            
              
                <a href="#" data-language-name="shell">Shell</a>
              
            
              
                <a href="#" data-language-name="javascript">Node.js</a>
              
            
          </div>
        
      </div>
    </div>
  </body>
</html>
